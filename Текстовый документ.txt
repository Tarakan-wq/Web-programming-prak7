const form = document.getElementById("subscribe-form");
const emailInput = document.getElementById("email");
const errorMessage = document.getElementById("error-message");
const dialog = document.getElementById("success-dialog");
const userEmail = document.getElementById("user-email");
const closeDialog = document.getElementById("close-dialog");

// Регулярний вираз для валідації email
const emailRegex = /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;

form.addEventListener("submit", (e) => {
  e.preventDefault();
  const emailValue = emailInput.value.trim();

  if (!emailRegex.test(emailValue)) {
    errorMessage.textContent = "Please enter the valid email";
    emailInput.classList.add("invalid");
  } else {
    errorMessage.textContent = "";
    emailInput.classList.remove("invalid");

    // Показуємо діалог успіху
    userEmail.textContent = emailValue;
    dialog.showModal();

    // Ховаємо форму
    document.getElementById("subscribe-section").style.display = "none";
  }
});

// Закриття діалогу
closeDialog.addEventListener("click", () => {
  dialog.close();
});
